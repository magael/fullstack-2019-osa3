(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(11),u=t.n(o),i=t(2),c=t(3),l=t.n(c),s="https://aqueous-escarpment.herokuapp.com/api/persons",m=function(){return l.a.get(s).then(function(e){return e.data})},f=function(e){return l.a.post(s,e).then(function(e){return e.data})},d=function(e,n){return l.a.put("".concat(s,"/").concat(e),n).then(function(e){return e.data})},p=function(e){return l.a.delete("".concat(s,"/").concat(e)).then(function(e){return e.data})},h=function(e){var n=e.person,t=e.persons,a=e.setPersons,o=e.setNotificationMessage,u=t.filter(function(e){return e.name!==n.name});return r.a.createElement("button",{onClick:function(){window.confirm("Poistetaanko ".concat(n.name))&&(p(n.id),a(u),o("".concat(n.name," poistettu")),setTimeout(function(){o(null)},5e3))}},"poista")},g=function(e){var n=e.persons,t=e.filter,a=e.setPersons,o=e.setNotificationMessage,u=n.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())});return r.a.createElement("div",null,u.map(function(e){return r.a.createElement(E,{key:e.name,person:e,persons:n,setPersons:a,setNotificationMessage:o})}))},E=function(e){var n=e.person,t=e.persons,a=e.setPersons,o=e.setNotificationMessage;return r.a.createElement("p",null,n.name," ",n.number,r.a.createElement(h,{person:n,persons:t,setPersons:a,setNotificationMessage:o}))},b=function(e){return r.a.createElement("form",null,r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4"," ",r.a.createElement("input",{value:e.filter,onChange:e.handleFilterChange})))},v=function(e){return r.a.createElement("form",{onSubmit:e.addPerson},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),r.a.createElement("div",null,"numero :"," ",r.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},w=function(e){var n=e.message;if(null===n)return null;return r.a.createElement("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},className:"error"},n)},N=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],u=Object(a.useState)(""),c=Object(i.a)(u,2),l=c[0],s=c[1],p=Object(a.useState)(""),h=Object(i.a)(p,2),E=h[0],N=h[1],j=Object(a.useState)(""),C=Object(i.a)(j,2),O=C[0],k=C[1],P=Object(a.useState)(null),y=Object(i.a)(P,2),S=y[0],M=y[1];Object(a.useEffect)(function(){m().then(function(e){o(e)})},[]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Puhelinluettelo"),r.a.createElement(w,{message:S}),r.a.createElement(b,{filter:O,handleFilterChange:function(e){k(e.target.value)}}),r.a.createElement("h2",null,"lis\xe4\xe4 uusi"),r.a.createElement(v,{addPerson:function(e){e.preventDefault();var n=t.map(function(e){return e.name}),a={name:l,number:E};n.includes(l)?function(e){if(window.confirm("".concat(e.name," on jo luettelossa, korvataanko vanha numero uudella?"))){var n=t.find(function(n){return n.name===e.name});d(n.id,e).then(function(a){o(t.map(function(e){return e.id!==n.id?e:a})),M("Henkil\xf6n ".concat(e.name," numero p\xe4ivitetty")),setTimeout(function(){M(null)},5e3)})}}(a):f(a).then(function(e){o(t.concat(e)),M("".concat(l," lis\xe4tty")),setTimeout(function(){M(null)},5e3)}),s(""),N("")},newName:l,handleNameChange:function(e){s(e.target.value)},newNumber:E,handleNumberChange:function(e){N(e.target.value)}}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(g,{persons:t,filter:O,setPersons:o,setNotificationMessage:M}))};u.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.093a9bd3.chunk.js.map